"use strict";let defaultLangCode="";const switchingElements=[];function switchLanguage(t){const e=t.value;if(e===document.documentElement.lang)return;document.documentElement.lang=e;const n=`data-ls-${e}`,a=`data-ls-${defaultLangCode}`;for(const{element:t,isContentTarget:o,targetAttributes:s}of switchingElements)if(o&&(t.textContent=t.getAttribute(n)??t.getAttribute(a)),s)for(const n of s){const a=`data-ls-${n}-${e}`,o=`data-ls-${n}-${defaultLangCode}`;t.setAttribute(n,t.getAttribute(a)??t.getAttribute(o)??"")}}function registerElement(t){let e=null;for(const n of t.attributes){if(!n.name.startsWith("data-ls-"))continue;e=e??{element:t,isContentTarget:!1};const a=n.name.indexOf("-",8);if(-1===a)e.isContentTarget=!0,t.setAttribute(`data-ls-${defaultLangCode}`,t.textContent??"");else{const o=n.name.substring(8,a);e.targetAttributes||(e.targetAttributes=new Set),e.targetAttributes.add(o),t.setAttribute(`data-ls-${o}-${defaultLangCode}`,t.getAttribute(o)??"")}}e&&switchingElements.push(e)}function loadLanguages(){defaultLangCode=document.documentElement.lang;for(const t of document.querySelectorAll("*"))t instanceof HTMLElement&&registerElement(t);const t=[...document.querySelectorAll("input[name='language']")].filter(t=>t instanceof HTMLInputElement);for(const e of t)e.addEventListener("click",function(){switchLanguage(this)});for(const e of window.navigator.languages)for(const n of t){const t=n.value;if(e.startsWith(t))return n.checked=!0,void(t!==defaultLangCode&&switchLanguage(n))}}window.addEventListener("load",loadLanguages);